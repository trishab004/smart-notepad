<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Notepad</title>
  <link href="https://fonts.googleapis.com/css2?family=Kalam&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Kalam', cursive;
      background: #fef8ec;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: start;
      padding: 40px;
      margin: 0;
    }
    .container {
      width: 100%;
      max-width: 1000px;
      background: #fffbe7;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      border: 2px dashed #ffbdbd;
      min-height: 90vh;
    }
    h1 {
      font-size: 32px;
      margin-bottom: 20px;
      text-align: center;
      color: #d14d72;
    }
    textarea {
      width: 100%;
      height: 70vh;
      padding: 20px;
      border: 2px solid #ffe2e2;
      border-radius: 10px;
      resize: none;
      font-size: 18px;
      background-color: #fff;
      color: #444;
      outline: none;
      line-height: 1.8;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
    }
    .row-title {
      font-weight: bold;
      margin-top: 16px;
      color: #d14d72;
    }
    .suggestions, .corrections {
      display: flex;
      gap: 10px;
      margin-top: 8px;
      flex-wrap: wrap;
    }
    .suggestion, .correction {
      background-color: #ffc1c1;
      color: #442222;
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.2s;
      border: 1px solid #ff8f8f;
    }
    .suggestion:hover, .correction:hover {
      background-color: #ff8f8f;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üç• Smart Notepad</h1>
    <textarea id="notepad" placeholder="Start your story here..."></textarea>

    <div class="row-title">Corrections</div>
    <div class="corrections" id="corrections"></div>

    <div class="row-title">Suggestions</div>
    <div class="suggestions" id="suggestions"></div>
  </div>

  <script>
    const notepad = document.getElementById('notepad');
    const suggestionsBox = document.getElementById('suggestions');
    const correctionsBox = document.getElementById('corrections');

    const autoCorrectMap = {
      teh: 'the',
      recieve: 'receive',
      becuase: 'because',
      adress: 'address',
      definately: 'definitely',
      wierd: 'weird',
      seperate: 'separate',
      occurence: 'occurrence',
      goverment: 'government',
      enviroment: 'environment',
      acheive: 'achieve',
      beleive: 'believe',
      calender: 'calendar',
      sucess: 'success'
    };

    const nextWordSuggestions = {
      the: ['best', 'next', 'idea', 'sun', 'day'],
      i: ['am', 'have', 'will', 'love', 'feel'],
      you: ['are', 'can', 'should', 'must', 'look'],
      we: ['are', 'must', 'could', 'might'],
      they: ['are', 'have', 'might'],
      love: ['you', 'life', 'this', 'it'],
      good: ['luck', 'morning', 'job', 'vibes']
    };

    notepad.addEventListener('input', () => {
      const text = notepad.value;
      const words = text.trim().split(/\s+/);
      const lastChar = text[text.length - 1];

      suggestionsBox.innerHTML = '';
      correctionsBox.innerHTML = '';

      // Only act when space is pressed
      if (lastChar === ' ') {
        const trimmedText = text.trim();
        const splitWords = trimmedText.split(/\s+/);
        const lastTypedWord = splitWords[splitWords.length - 1];

        // Auto-correct
        const correction = autoCorrectMap[lastTypedWord?.toLowerCase()];
        if (correction) {
          const btn = document.createElement('div');
          btn.className = 'correction';
          btn.textContent = `Replace "${lastTypedWord}" with "${correction}"`;
          btn.onclick = () => {
            splitWords[splitWords.length - 1] = correction;
            notepad.value = splitWords.join(' ') + ' ';
            correctionsBox.innerHTML = '';
          };
          correctionsBox.appendChild(btn);
        }

        // Auto-suggest
        const suggestionWords = nextWordSuggestions[lastTypedWord?.toLowerCase()] || ['the', 'a', 'is', 'was', 'and'];
        suggestionWords.forEach(word => {
          const btn = document.createElement('div');
          btn.className = 'suggestion';
          btn.textContent = word;
          btn.onclick = () => {
            notepad.value += word + ' ';
            suggestionsBox.innerHTML = '';
          };
          suggestionsBox.appendChild(btn);
        });
      }
    });
  </script>
</body>
</html>
